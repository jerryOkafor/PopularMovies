window.onerror=function(c,d,e,b,a){$.post("/ajax/errors",{type:"window",message:c,source:d,lineno:e,colno:b,error:a,canonical_url:window.canonical_url});console.log(window.canonical_url)};$(document).ajaxError(function(b,c,a){if(a.url!="/ajax/errors"){$.post("/ajax/errors",{type:"ajax",url:a.url,status:c.status,response:c.responseText.substring(0,500),canonical_url:window.canonical_url})}});function updateSoaRecord(a){$.post("/ajax/dns/action",{dns_action:"updateSoa",dns_domain_name:a},function(b){$soa=b.soa;alert($soa)},"json")}$.fn.ajaxSubmit=function(a){this.submit(function(){var b={form_id:this.getAttribute("id"),parent_id:$(this).parent().get(0).getAttribute("id")};$(this).find(":input").filter(":enabled, :hidden").each(function(){var c=this.name||this.id||this.parentNode.name||this.parentNode.id;if(c.substr(c.length-2)=="[]"){if(this.value.replace(new RegExp("^[\\s]*$","g"),"")!=""){if(typeof(b[c])=="object"&&(b[c] instanceof Array)){if(this.type=="checkbox"&&this.checked){b[c][b[c].length]=this.value}else{if(this.type!="checkbox"){b[c][b[c].length]=this.value}}}else{if(this.type=="checkbox"&&this.checked){b[c]=[this.value]}else{if(this.type!="checkbox"){b[c]=[this.value]}}}}}else{if(this.type=="checkbox"){b[c]=this.checked?this.value:""}else{if(this.type=="radio"){if(this.checked){b[c]=this.value}}else{b[c]=this.value}}}});$("body").addClass("curWait");if(a){$.post(this.getAttribute("action"),b).done(function(c){window[a](c)})}else{$.post(this.getAttribute("action"),b).fail(function(d,f,e){if(typeof d!="undefined"&&d.responseText){var c=JSON.parse(d.responseText);if(c.message){alert(c.message);if(c.refresh==true){refresh()}}}})}return false});return this};$.ajaxSetup({error:function(a,b){if(a.status==0){return}else{if(a.status==404){message="Requested URL not found."}else{if(a.status==500){match=a.responseText.match(/\[ERROR\]:(.*):\[ERROR\]/);if(match!=null){message=match[1]}else{message="An error has occured."}}else{if(b=="parsererror"){message="Error.\nParsing JSON Request failed."}else{if(b=="timeout"){message="Request Time out."}else{message="Unknow Error."}}}}}}});function show_error(b,a){if(a==null){a={}}if(a["class"]==null){a["class"]="ui-state-error show-error"}show_message(b,a)}function show_success(b,a){if(a==null){a={}}if(a["class"]==null){a["class"]="show-success"}show_message(b,a)}function show_message(b,a){var c="msg_"+Math.floor(Math.random()*10000);$("#main").prepend("<div class='show-message "+((a["class"])?" "+a["class"]:"")+"' id='"+c+"'><div class='inset'>"+b+((a.no_fade)?"<div><a onClick='$(\"#"+c+"\").slideUp(500);void(0);'>hide</a></div><div class='clear'></div>":"")+"</div></div>");$("#"+c).slideDown(500);if(!a.no_fade){setTimeout("$('#"+c+"').slideUp(500);",10000)}}function redirect(a){window.location=a}function refresh(){window.location.reload()}function initLogin(){$(".input-username").fadeIn();$(".input-password").fadeIn();$(".form-login").each(function(){$(this).submit(function(){var a=$(this).attr("id");$(".login-button").prop("disabled",true);$.post("/ajax/account/login",{username:$("#"+$(this).attr("id")+" .input-username").val(),password:$("#"+$(this).attr("id")+" .input-password").val(),vip_id:$("#"+$(this).attr("id")+" .input-vip-id").val(),vip_pin:$("#"+$(this).attr("id")+" .input-vip-pin").val(),vip_flag:$("#"+$(this).attr("id")+" .input-vip-flag").val(),csrf_token:$("#"+$(this).attr("id")+' [name="csrf_token"]').val()},function(d){if(d){if(d.vip&&d.vip.length>0){if(d.vip.length==1){var b='<input class="input-vip-id" name="vip_id" type="hidden" value="'+d.vip[0]["token_id"]+'">';$("#"+a).find(".form-vip").find(".vipIdContainer").html(b).show();$("#"+a).find(".form-vip").find(".input-vip-id-label").hide();$("#"+a).find(".form-vip").find(".vipIdWrap").hide()}else{var b='<select class="input-vip-id form-control" name="vip_id">';for(var c=0;c<d.vip.length;c++){b+='<option value="'+d.vip[c]["token_id"]+'"> '+d.vip[c]["credentialAlias"]}b+="</select>";$("#"+a).find(".form-vip").find(".vipIdContainer").html(b).show();$("#"+a).find(".form-vip").find(".input-vip-id-label").show()}$("#"+a).find(".form-vip").show();$(".face").css("min-height","480px");$("#"+a).find(".input-vip-flag").val("on");setTimeout("$('#"+a+"').find('.form-vip').find('.input-vip-pin').focus();",100);$(".login-button").prop("disabled",false);return false}if(d.redirect){$(".login-button").prop("disabled",false);window.location=d.redirect.path;return false}}},"json").fail(function(c,e,d){if(typeof c!="undefined"&&c.responseText){var b=JSON.parse(c.responseText);if(b.message){alert(b.message);if(b.refresh==true){refresh()}}else{$(".alert_www_2fa_login_blocked").modal("show")}}else{$(".alert_www_2fa_login_blocked").modal("show")}return false});return false})})}$(".btn_blocked_ok",$(".alert_www_2fa_login_blocked")).click(function(){var a=$("#Login-header-form .input-username").val();if(!a){a=$("#Login-new-form .input-username").val()}$.post("/ajax/account/endLoginAttempt",{username:a},function(){refresh()})});function emptyCart(){var a=confirm("Empty all the contents of your shopping cart?");if(!a){return}$.post("/ajax/products/empty_cart")}function updateCart(){$.post("/ajax/products/update_cart_totals")}$.fn.scrollToTop=function(){$("html, body").animate({scrollTop:0},"slow")};$.fn.showSuccess=function(b,a){return this.each(function(){show_success(b,a)})};$.fn.showError=function(b,a){return this.each(function(){show_error(b,a)})};$.fn.alert=function(a){return this.each(function(){alert(a)})};$.fn.redirect=function(a){redirect(a)};$.fn.refresh=function(){refresh()};$.fn.emptyCart=function(){return this.each(function(){emptyCart()})};$.fn.updateCart=function(){return this.each(function(){updateCart()})};function cartSwap(a){$.post("/ajax/products/swap/",{add:$(a).attr("checked"),data:$(a).val()});$("[value='"+$(a).val()+"']").attr("checked",$(a).attr("checked"))}function bulkCartSwap(c){var a="";var b=0;$("#"+c+" input:checkbox").each(function(){if(b){a=a+","}a=a+'"'+$(this).val()+'":"'+$(this).attr("checked")+'"';b=1});$.post("/ajax/products/bulk_swap/",{data:"{"+a+"}"})}$(".ui-button").mouseenter(function(){$(this).addClass("ui-button-hover")});$(".ui-button").mouseleave(function(){$(this).removeClass("ui-button-hover")});function clickclear(a,b){if($(a).val()==b){$(a).val("");$(a).addClass("focus")}}function clickrecall(a,b){if($(a).val()==""){$(a).val(b);$(a).removeClass("focus")}}function processKeyPress(b,a){if(!b||!a){return}if((b.which&&b.which==13)||(b.keyCode&&b.keyCode==13)){a()}}initLogin();$("#account-box :input").keypress(function(a){if(a.which==13){$(this).closest("form:not(#Login-header-form)").submit()}});$(".empty-cart").click(function(){emptyCart()});$("#cart-logout-button, #cart-logout-button-responsive").click(function(){$("#cart-logout-button .fa-caret-down").toggleClass("fa-caret-up");$("#cart-box,#cart-box-responsive").toggleClass("open");$("#account-box .input-username").focus()});$("#wrap").click(function(a){if($(a.target).parents().index($("#login-popup"))==-1&&$(a.target).parents().index($("#cart-logout-button"))==-1){$("#cart-box").removeClass("open")}});var kkeys=[],konami="38,38,40,40,37,39,37,39,66,65";$(document).keydown(function(a){kkeys.push(a.keyCode);if(kkeys.toString().indexOf(konami)>=0){$(document).unbind("keydown",arguments.callee);$.getScript("/js/plugins/cornify/cornify.js",function(){cornify_add();$(document).keydown(cornify_add)})}});function parseCurrency(a){a=a.replace("$","");a=a.replace(",","");if($.trim(a)==""){return""}return parseFloat(a)}function toCurrency(b){if($.trim(b)==""){return""}b=parseFloat(b).toFixed(2);if(isNaN(b)){b="0.00"}b+="";x=b.split(".");x1=x[0];x2=x.length>1?"."+x[1]:"";var a=/(\d+)(\d{3})/;while(a.test(x1)){x1=x1.replace(a,"$1,$2")}return"$"+x1+x2}$.fn.parseCurrency=function(){return this.each(function(b,a){var c=$(a);c.val(parseCurrency(c.val()))})};$.fn.toCurrency=function(){return this.each(function(b,a){var c=$(a);c.val(toCurrency(parseCurrency(c.val())))})};$(function(){$('[ga="event"]').click(function(b){if(_gaq==undefined){return}var c=$(this);_gaq.push(["_trackEvent",c.attr("ga-category"),c.attr("ga-action"),c.attr("ga-label")]);if(this.tagName.toLowerCase()=="a"){if(!b.metaKey&&b.which!="2"&&!b.ctrlKey){var a=c.attr("target");if(!a||a.substring(0,1)!="_"){b.preventDefault();if(c.attr("href")!=undefined&&$.trim(c.attr("href"))!=""){if(c.attr("href").toLowerCase().indexOf("javascript")!=0){setTimeout('redirectAfterGAComplete("'+c.attr("href")+'", 1);',200)}}}}}})});function redirectAfterGAComplete(a,b){if(typeof _gaq.length=="undefined"||_gaq.length==0||b>20){window.location=a}else{b++;setTimeout('redirectAfterGAComplete("'+a+'",'+b+");",100)}}function ucwords(a){return(a+"").replace(/(?:\b|_)([a-z])/g,function(b){return b.toUpperCase()})}function maskNameserver(a){var b=a.match(/(ns[1-4])([a-z]{3})(\.name\.com|\.name\.net|\.domainsite\.com|\.domain-resolution\.net)/);if(b&&b[1]&&b[2]&&b[3]){return b[1]+b[3]}return a}CSRF_token=$("meta[name='csrf-token']").attr("content");$.ajaxSetup({headers:{"x-csrf-token-auth":CSRF_token},beforeSend:function(a){a.setRequestHeader("x-csrf-token-auth",CSRF_token)}});function escapeHtml(a){if(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}else{return""}}function stripHtml(a){if(a){return a.replace(/&/g,"").replace(/</g,"").replace(/>/g,"").replace(/"/g,"").replace(/'/g,"")}else{return""}}$("div.youtube").each(function(d,c){var b=$(c);var e=(("https:"==document.location.protocol)?"https:":"http:");var a=$("<img>",{src:e+"//i.ytimg.com/vi/"+b.attr("data-youtubeid")+"/mqdefault.jpg","class":"thumb fullwidth"});var f=$("<div>",{"class":"video-play"});b.append(a).append(f);f.append($("<div>",{"class":"video-circle"}));b.click(function(){var g=$("<iframe>",{src:"https://www.youtube.com/embed/"+$(this).attr("data-youtubeid")+"?autoplay=1&autohide=1&border=0&wmode=opaque&enablejsapi=1&rel=0"});$(this).parent().html(g)})});function onCountryChange(c,d){var a=$(d);var b=a.find("option:selected").attr("title");$("#"+c+"phone_code").val(b);$("#"+c+"fax_code").val(b);if(typeof tax_countries[a.val()]!="undefined"){$(d).closest(".contact-form").find(".tax-row").removeClass("none")}else{$(d).closest(".contact-form").find(".tax-row").addClass("none");$("#"+c+"tax_id").val("")}};